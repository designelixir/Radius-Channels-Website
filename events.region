<!doctype html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    {squarespace-headers}
  </head>
  <script>
	function isDateInFutureOrPast(start, end, id) {
	  const today = new Date();
	  console.log(id)
    var targetParentId = document.getElementById(String(id))
	  var targetId = document.getElementById('eventType-' + String(id))
    
	  const startDate = new Date(start)
	  const endDate = new Date(end)
	  console.log(start,  end)
	  
	
	
	  if (startDate > today) {
	    
      
      targetParentId.classList.add('future-event')
	  } else if (startDate < today && endDate > today){
      targetParentId.classList.add('future-event')
	  } else if (startDate < today) {
	    targetId.innerHTML = "Archived Event"
      targetParentId.classList.add('archived-event')
	  }  else {
	    console.log("no event defined")
	  }
	}
	
	function toggleTypes(toggleType){
	  var typeToggles = document.getElementsByClassName('type-toggle'); 
    var futureEvents = document.getElementsByClassName('future-event')
    var archivedEvents = document.getElementsByClassName('archived-event')
    var allContentDivs = document.getElementsByClassName('events-summary-container')
	  for (var i = 0; i < typeToggles.length; i++){
	    typeToggles[i].classList.remove('active-type-toggle')
	  }
	  document.getElementById(toggleType).classList.add('active-type-toggle')

    for (var i = 0; i < allContentDivs.length; i++){
      allContentDivs[i].classList.remove('visible-event', 'active-event')
    }
    if (toggleType === 'upcoming-toggle'){
      toggleEvent(futureEvents[0].id, futureEvents[0].dataset.fullUrl)
      for (var i = 0; i < futureEvents.length; i++){
      futureEvents[i].classList.add('visible-event')
    }
    } else {
      toggleEvent(archivedEvents[0].id, archivedEvents[0].dataset.fullUrl)
      for (var i = 0; i < archivedEvents.length; i++){
      archivedEvents[i].classList.add('visible-event')
    }
    }
	}
	
		function toggleEvent(target, fullUrl){
	    var targetIframe = document.getElementById('target-iframe');
	    var targetUrl = "https://radiuschannels2.squarespace.com" + String(fullUrl)
		  var targetDiv = document.getElementById(target);
		  var allDivs = document.getElementsByClassName('active-event')
	    
	
		  for (i=0; i < allDivs.length; i++){
		      allDivs[i].classList.remove('active-event')
		  }
	
		    targetDiv.classList.add('active-event')
	      targetIframe.src = targetUrl
	      
		}
</script>
  <body id="{squarespace.page-id}" class="{squarespace.page-classes}">

     
      
    

    <!-- combo and minify scripts when not logged in -->
    <squarespace:script src="site.js" combo="{.if authenticatedAccount}false{.or}true{.end}" />

    <!-- other scripts, and footer code injection -->
    {squarespace-footers}
<script>
toggleTypes('upcoming-toggle')
</script>
  </body>
</html>

